// Generated by CoffeeScript 1.6.3
describe('Controllers', function() {
  beforeEach(module('gitWalrusApp'));
  return describe('HomepageController', function() {
    var $httpBackend, ctrl, scope;
    scope = null;
    ctrl = null;
    $httpBackend = null;
    beforeEach(inject(function(_$httpBackend_, $rootScope, $controller) {
      $httpBackend = _$httpBackend_;
      $httpBackend.expectGET('/api/branches').respond('{"items":[{"name":"master"}]}');
      $httpBackend.expectGET('/api/log/master').respond('{"items":[{"message":"test message"}]}');
      scope = $rootScope.$new();
      return ctrl = $controller('HomepageController', {
        $scope: scope
      });
    }));
    it('should create "branches" in the scope with at least one object', function() {
      expect(scope.branches).toBeUndefined();
      expect(scope.log).toBeUndefined();
      $httpBackend.flush();
      expect(scope.branches.length).toBe(1);
      expect(scope.branches[0].name).toBe('master');
      expect(scope.log.length).toBe(1);
      return expect(scope.log[0].message).toBe('test message');
    });
    return it('should attach a date', function() {
      expect(scope.date).toBeDefined();
      return expect(scope.date).toEqual(new Date());
    });
  });
});
